{{#if model.onEditMode}}
  {{#paper-form onSubmit=(action "saveRecord" model) as |form|}}
    {{#paper-card as |card|}}
      <div {{action 'viewImage' model 0}} >
        {{card.image src=model.defaultImage alt="Washed Out" title="Washed Out" class=(concat model.id '-image-' 0)
        }}
      </div>

      {{#card.title as |title|}}
        {{#title.text as |text|}}
          {{#text.headline}}Create new{{/text.headline}}
        {{/title.text}}
      {{/card.title}}

      {{#card.content}}
        <div class="layout-row layout-sm-column images">
          {{#each model.images as |image|}}
              <img src= {{concat "data:image/jpeg;base64," image.Base64Content}} class= {{concat model.id '-image-' index}} {{action 'viewImage' model index}}  >
          {{/each}}
        </div>
        {{form.input label="Name" type="string" value=model.name onChange=(action (mut model.name))}}
      {{/card.content}}

      {{#card.actions class="layout-row layout-align-start-center" as |actions|}}
        {{#paper-button onClick=(action form.onSubmit)}}Save{{/paper-button}}
      {{/card.actions}}

    {{/paper-card}}
  {{/paper-form}}
{{else}}
  {{#paper-card class="layout-column flex-xs flex-gt-xs-25" as |card|}}
    {{#link-to 'outfits.show' outfit class="linked-card" }}
    <div {{action 'viewImage' model 0}} >
      {{card.image src=model.defaultImage
        alt="Washed Out" title="Washed Out"
        class=(concat model.id '-image-' 0)
      }}
    </div>

      {{#card.title as |title|}}
        {{#title.text as |text|}}
          {{#text.headline}}
            {{model.name}}
          {{/text.headline}}
        {{/title.text}}
      {{/card.title}}
      {{#card.content}}
        <div class="layout-row layout-sm-column images">
          {{#each model.images as |image index|}}
            <div class="flex-25 image">
              <img src= {{concat "data:image/jpeg;base64," image.Base64Content}} class= {{concat model.id '-image-' index}} {{action 'viewImage' model index}}  >
            </div>
          {{/each}}
        </div>
      {{/card.content}}
    {{/link-to}}
    {{#card.actions class="layout-row layout-align-start-center" as |actions|}}
      {{#actions.icons}}
        {{#paper-button iconButton=true}}{{paper-icon 'favorite'}}{{/paper-button}}
        {{#paper-button iconButton=true onClick=(action "deleteRecord" model)}}{{paper-icon 'delete'}}{{/paper-button}}
      {{/actions.icons}}
      {{#paper-button onClick=(action "editRecord" model)}}Edit{{/paper-button}}
    {{/card.actions}}
  {{/paper-card}}
{{/if}}


{{#if showDialog}}
  {{#paper-dialog onClose=(action "closeDialog") origin=dialogOrigin}}

    {{#paper-dialog-content}}
      {{#each model.images as |image|}}
        <div class="flex-25 image"><img src= {{concat 'data:image/jpeg;base64,' image.Base64Content}} {{action 'viewImage' image}}></div>
      {{/each}}
    {{/paper-dialog-content}}

    {{#paper-dialog-actions class="layout-row" }}
      <span class="flex"></span>
      {{#paper-button onClick=(action "closeDialog")}}OK{{/paper-button}}
    {{/paper-dialog-actions}}
  {{/paper-dialog}}
{{/if}}
